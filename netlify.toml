[build]
base = "client"
command = "npm run build"
publish = "dist"

functions = "server/netlify/functions"

[[redirects]]
from = "/api/inventory/upload"
to = "/.netlify/functions/inventory-upload"
status = 200
force = true

[[redirects]]
from = "/api/*"
to = "/.netlify/functions/server/:splat"
status = 200
force = true

# --- CORRECCIÓN CRÍTICA: REGLA SPA ---
# Envía todas las rutas no encontradas a index.html para que React Router las maneje.
[[redirects]]
from = "/*"
to = "/index.html"
status = 200